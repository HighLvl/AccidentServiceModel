# AccidentServiceModel
## Принцип работы модели
Простанство передвижения аварийной службы (АС) представляет собой граф, узлы которого - это аварийные учаски (АУ), а ребра - дороги, соединяющие их. Каждое ребро имеет вес <b>W</b> - время передвижения АС по нему. В узлах с определенной интенсивностью <b>I</b> возникают события аварий, которые складываются в очередь АС и находятся там до их обработки.  Когда на АУ возникает авария, АС начинает движение со своей начальной позиции (узел графа) по кратчайшему пути к АУ. Когда АС прибывает на АУ, АС ждет истечения времени ожидания <b>WT</b>. По истечении времени АС двигается на начальную позицию, если очередь событий аварий пуста, либо движется на следующий ближайший АУ из очереди. Если АС движется к начальной позиции либо обрабатывает событие аварии, и в это время на каком-либо участке возникает авария, тогда АС ее игнориует. Состояние модели обновляется с периодом <b>DT</b>. Модель запускается на время <b>T</b>, и исполняется <b>N</b> раз.
Для всех узлов графа создаются АС, по окончании выполнения модели для всех АС выводится статистика работы, что позволяет найти оптимальную начальную позицию АС.
## Структура конфигурационного файла
```
WT
DT
T
N
NN #количество узлов графа
{номер узла} I
... #NN строк
EN #количество ребер графа
{начальный узел} {конечный узел} W
... #EN строк
```
## Запуск модели
python main.py
```python
from model import run_model

run_model("input.txt") #запускает модель,  input.txt - конфигурационный файл
```
В результате для всех АС выводится статистика работы в следующем формате:
```
(номер узла начальной позиции) (общее время работы) (число обработанных событий) (среднее время обработки события)
```
## Зависимости
```bash
pip install -r requirements.txt
```
